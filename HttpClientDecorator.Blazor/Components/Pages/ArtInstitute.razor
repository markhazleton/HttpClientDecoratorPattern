@page "/artinstitute"
@using WebSpark.HttpClientUtility.RequestResult

<PageTitle>Art Institute of Chicago</PageTitle>

<div class="jumbotron">
    <div class="container">
        <div class="card border-info">
            <div class="card-header">
                <h1>
                    Art Institute
                </h1>
                <p>
                    The Art Institute of Chicago in Chicago's Grant Park, founded in 1879, is one of the oldest and
                    largest art museums in the world.
                </p>
            </div>
            <div class="card-body">
                <div class="container">
                    @if (ArtList?.list == null || !ArtList.list.Any())
                    {
                        <div class="row">
                            <div class="col-12 text-center">
                                <div class="spinner-border" role="status">
                                    <span class="visually-hidden">Loading...</span>
                                </div>
                                <p>Loading artwork...</p>
                            </div>
                        </div>
                    }
                    else
                    {
                        <div class="row">
                            @foreach (var item in ArtList.list)
                            {
                                <div class="col-4">
                                    <div class="card w-100">
                                        <div class="card-header">
                                            <h2>@item.title</h2>
                                        </div>
                                        <div class="card-body">
                                            <img src="@item.ImageUrl" class="img-fluid d-block w-100 h-100"
                                                style="max-height:500px;max-width:500px;" alt="@item.title" />
                                        </div>
                                        <div class="card-footer">
                                            <p>@item.artist_title</p>
                                        </div>
                                    </div>
                                </div>
                            }
                        </div>
                    }
                </div>
            </div>
            <div class="card-footer">
                <p>
                    The <a href="https://www.artic.edu" target="_blank" rel="noopener noreferrer">Art Institute of
                        Chicago</a>'s
                    API provides JSON-formatted data as a REST-style service that allows developers to explore and
                    integrate the museum's public data into their projects.
                </p>
                @if (ArtResponse != null)
                {
                    <p>
                        <strong>The Api Get call took @ArtResponse.ElapsedMilliseconds milliseconds to return.</strong>
                        <br />
                        <small>Data from @ArtResponse.RequestPath</small>
                        <br />
                        @ArtResponse.ResultAge
                    </p>
                }
            </div>
        </div>
    </div>
</div>
